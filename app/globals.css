@tailwind base;
@tailwind components;
@tailwind utilities;

/* CRT Scanline Effect */
@keyframes scanlines {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 0 100%;
  }
}

@keyframes flicker {
  0% {
    opacity: 0.03;
  }
  5% {
    opacity: 0.02;
  }
  10% {
    opacity: 0.03;
  }
  15% {
    opacity: 0.04;
  }
  20% {
    opacity: 0.02;
  }
  25% {
    opacity: 0.03;
  }
  30% {
    opacity: 0.04;
  }
  35% {
    opacity: 0.02;
  }
  40% {
    opacity: 0.03;
  }
  45% {
    opacity: 0.02;
  }
  50% {
    opacity: 0.04;
  }
  55% {
    opacity: 0.03;
  }
  60% {
    opacity: 0.02;
  }
  65% {
    opacity: 0.04;
  }
  70% {
    opacity: 0.03;
  }
  75% {
    opacity: 0.02;
  }
  80% {
    opacity: 0.03;
  }
  85% {
    opacity: 0.04;
  }
  90% {
    opacity: 0.03;
  }
  95% {
    opacity: 0.02;
  }
  100% {
    opacity: 0.03;
  }
}

/* CRT Scanline Overlay */
.crt-scanlines {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.15),
    rgba(0, 0, 0, 0.15) 1px,
    transparent 1px,
    transparent 2px
  );
  animation: flicker 0.15s infinite;
}

.crt-scanlines::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    to bottom,
    transparent 50%,
    rgba(0, 212, 255, 0.02) 50%
  );
  background-size: 100% 4px;
  animation: scanlines 0.5s linear infinite;
}

/* Topographic/Hex Grid Background Pattern */
.topo-grid {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  opacity: 0.03;
  background-image: 
    /* Hex pattern */
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='28' height='49' viewBox='0 0 28 49'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%2300d4ff' fill-opacity='1'%3E%3Cpath d='M13.99 9.25l13 7.5v15l-13 7.5L1 31.75v-15l12.99-7.5zM3 17.9v12.7l10.99 6.34 11-6.35V17.9l-11-6.34L3 17.9zM0 15l12.98-7.5V0h-2v6.35L0 12.69v2.3zm0 18.5L12.98 41v8h-2v-6.85L0 35.81v-2.3zM15 0v7.5L27.99 15H28v-2.31h-.01L17 6.35V0h-2zm0 49v-8l12.99-7.5H28v2.31h-.01L17 42.15V49h-2z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"),
    /* Topographic lines */
    radial-gradient(ellipse at 20% 30%, rgba(0, 212, 255, 0.15) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 70%, rgba(255, 42, 109, 0.1) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 50%, rgba(0, 255, 159, 0.05) 0%, transparent 60%);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #0a0a0f;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #00d4ff 0%, #00d4ff80 100%);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #00d4ff 0%, #00d4ffcc 100%);
}

/* Base styles */
@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-dark text-gray-100 antialiased;
    background: linear-gradient(135deg, #0a0a0f 0%, #111111 100%);
    min-height: 100vh;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-heading tracking-wider;
  }

  /* Selection styling */
  ::selection {
    background: rgba(0, 212, 255, 0.3);
    color: #fff;
  }
}

@layer components {
  /* Glowing border effect */
  .glow-border {
    box-shadow: 0 0 5px rgba(0, 212, 255, 0.3),
                0 0 10px rgba(0, 212, 255, 0.2),
                inset 0 0 5px rgba(0, 212, 255, 0.1);
  }

  /* Cyber button style */
  .cyber-button {
    @apply relative px-6 py-3 font-heading text-sm uppercase tracking-widest;
    @apply bg-dark-100 border border-primary/30 text-primary;
    @apply transition-all duration-300;
    clip-path: polygon(0 0, calc(100% - 10px) 0, 100% 10px, 100% 100%, 10px 100%, 0 calc(100% - 10px));
  }

  .cyber-button:hover {
    @apply bg-primary/10 border-primary text-primary shadow-lg;
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.4);
  }

  /* Badge pulsing animation */
  .badge-pulse {
    animation: badge-pulse 2s ease-in-out infinite;
  }

  @keyframes badge-pulse {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(0, 255, 159, 0.4);
    }
    50% {
      box-shadow: 0 0 0 8px rgba(0, 255, 159, 0);
    }
  }

  /* HUD panel styling */
  .hud-panel {
    @apply bg-dark/90 backdrop-blur-md border border-primary/20 rounded-sm;
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.1),
                inset 0 1px 0 rgba(0, 212, 255, 0.1);
  }
}

@layer utilities {
  /* Text glow effect */
  .text-glow {
    text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
  }

  .text-glow-sm {
    text-shadow: 0 0 5px currentColor;
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary via-success to-primary;
  }

  /* Line clamp utilities */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* Focus visible styles for accessibility */
:focus-visible {
  outline: 2px solid #00d4ff;
  outline-offset: 2px;
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .crt-scanlines,
  .crt-scanlines::before {
    animation: none !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .text-gray-400 {
    @apply text-gray-200;
  }
  
  .text-gray-500 {
    @apply text-gray-300;
  }
  
  .border-gray-800 {
    @apply border-gray-600;
  }
}
